---
import { clsx } from "clsx";
const { position = "left" } = Astro.props;
---

<div class={clsx(
    "bg-cyan-400 col-span-1 row-span-2 timeline-block rounded-lg shadow-lg p-4",
    `timeline-block-${position}`
)}>Lorem ipsum odor amet</div>

<style>
    /* scss does not accept theme() */
    .timeline-block {
        background-color: white;
        position: relative;
        border: 2px solid theme(colors.slate.400);
        display: inline-block;
    }

    .timeline-block-left::after {
        border-right: 2px solid theme(colors.slate.400);
        border-bottom: 2px solid theme(colors.slate.400);
    }

    .timeline-block-right::after {
        border-right: 2px solid theme(colors.slate.400);
        border-bottom: 2px solid theme(colors.slate.400);
    }
</style>

<style lang="scss">
    /* the arrow is a lie */
    @mixin timeline-block-pos($pos, $opposite, $rot) {
        .timeline-block-#{$pos}::after {
            content: "";
            position: absolute;
            #{$opposite}: -7px;
            top: 10px;
            width: 10px;
            height: 10px;
            background: white;
            transform: rotate(#{$rot});
        }
    }

    @include timeline-block-pos("left", right, -45deg);
    @include timeline-block-pos("right", left, -225deg);
</style>